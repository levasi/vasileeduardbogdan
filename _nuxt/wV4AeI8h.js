import{G as x,V as g,C as y,e as C,T as M,f as H,S,P as B,E,A as _,H as k,W as v,M as G,g as W,h as F}from"./C__p7v9B.js";import{O as R}from"./CNV8AT50.js";import{G as A}from"./B9HQ43rv.js";import{U as L,g as P}from"./DU2gwtV2.js";import{r as z,k as T,q as U,c as b,o as D}from"./D2BRVPHh.js";const q=""+new URL("duck.B29LkacC.glb",import.meta.url).href,V=""+new URL("rad-grad.Bwfu9Sul.png",import.meta.url).href,I=new M;function O({hasFog:c,color:o,opacity:t,path:i,pos:e,size:n}){const s=new C({color:o,fog:c,map:I.load(i),transparent:!0,opacity:t});s.color.offsetHSL(0,0,Math.random()*.2-.1);const r=new H(s);return r.position.set(e.x,-e.y,e.z),n+=Math.random()-.5,r.scale.set(n,n,n),r.material.rotation=0,r}function j({hasFog:c=!0,hue:o=0,numSprites:t=10,opacity:i=1,path:e=V,radius:n=1,sat:s=.5,size:r=1,z:w=0}={}){const m=new x;for(let d=0;d<t;d+=1){let f=d/t*Math.PI*2;const l=new g(Math.cos(f)*Math.random()*n,Math.sin(f)*Math.random()*n,w+Math.random());new g(l.x,l.y,0).length();let p=new y().setHSL(o,1,s);const a=O({hasFog:c,color:p,opacity:i,path:e,pos:l,size:r});m.add(a)}return m}const Q={__name:"lamp",setup(c){const o=z(null);let t=null;return T(async()=>{new M;const i=new A;new L;const e=new S,n=new B(75,window.innerWidth/window.innerHeight,.1,1e3),s=j({hue:.1,numSprites:8,opacity:.2,radius:10,size:24,z:-15.5});e.add(s),new L().load(P,a=>{a.mapping=E,e.environment=a}),new _(16777215,1);const w=new k(16777215,0,.4);e.add(w),t=new v({antialias:!0}),t.setSize(window.innerWidth,window.innerHeight),new R(n,t.domElement),o.value.appendChild(t.domElement),n.position.z=5;const m=[16415009,16685344,16580460,14333636,10993363];new G({color:m[0]}),new W({color:16777215,roughness:.5,metalness:0,transmission:.5,reflectivity:.5,clearCoat:.5,clearCoatRoughness:.5,lights:!0}),(async()=>await i.load(q,a=>{for(let u=0;u<1;u++){const h=a.scene.clone();h.position.set(u*2,0,0),e.add(h)}},void 0,a=>{}))();const d=new F;window.addEventListener("mousemove",a=>{d.x=a.clientX/window.innerWidth*2-1,d.y=-(a.clientY/window.innerHeight)*2+1});function f(){e.traverse(a=>{a.isMesh})}function l(){requestAnimationFrame(l),f(),t.render(e,n)}l();function p(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),t.setSize(window.innerWidth,window.innerHeight)}window.addEventListener("resize",p,!1)}),U(()=>{t.dispose()}),(i,e)=>(D(),b("div",{ref_key:"lampTemplate",ref:o},null,512))}};export{Q as default};
