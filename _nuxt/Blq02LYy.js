import{G as C}from"./9NwP3Wld.js";import{g as F,a as b,I as L,c as k,aK as K,aL as P,aM as Q,aN as V,V as z,as as q}from"./DdUGlUBh.js";const H=new z(0,0,0),w=[26545,5151182,10210283,5625826,16777215,10267058,5138038,16159280,16111647],h=[new K(.65,32,32),new P(.65,.3,16,64),new Q(.65,.25,128,32),new V(1,0)],I=new C,N=["duck.glb"];async function R(){const e=N.map(t=>new Promise((o,m)=>{I.load(`glb/${t}`,n=>{n.scene.traverse(s=>{s.isMesh&&h.push(s.geometry)}),o()},void 0,n=>m(n))}));try{await Promise.all(e)}catch{}}(async()=>await R())();function $(e){const o=h[Math.floor(Math.random()*h.length)].clone();return o.scale(e,e,e),o}function U(e,t){let i=Math.random()*12-6,s=Math.random()*12-12*.5+3,l=Math.random()*12-12*.5,c=w[Math.floor(Math.random()*w.length)];const y=$(.5),a=Math.random(),g=a<.33?{color:c,metalness:1,roughness:.1}:a<.66?{roughness:.1,transmission:1,transparent:!0,thickness:3}:{color:c,emissive:c,emissiveIntensity:.5,metalness:0,roughness:.5},u=new F(g),d=new b(y,u);let G=e.RigidBodyDesc.dynamic().setTranslation(i,s,l),r=t.createRigidBody(G),B=y.attributes.position.array,D=e.ColliderDesc.convexHull(B).setDensity(.5);t.createCollider(D,r);function T(){r.resetForces(!0);let{x:p,y:x,z:M}=r.translation(),S=new z(p,x,M).clone().sub(H).normalize(),f=r.rotation(),v=new q(f.x,f.y,f.z,f.w);d.rotation.setFromQuaternion(v),r.addForce(S.multiplyScalar(-.5),!0),d.position.set(p,x,M)}return{mesh:d,rigid:r,update:T}}function W(e,t){const m=new L(.25,8),n=new k({color:16777215,emissive:16777215}),i=new b(m,n);let s=e.RigidBodyDesc.kinematicPositionBased().setTranslation(0,0,0),l=t.createRigidBody(s),c=e.ColliderDesc.ball(.25*3);t.createCollider(c,l);function y(a){l.setTranslation({x:a.x,y:a.y,z:a.z});let{x:g,y:u,z:d}=l.translation();i.position.set(g,u,d)}return{mesh:i,update:y}}export{U as getBody,W as getMouseBall};
