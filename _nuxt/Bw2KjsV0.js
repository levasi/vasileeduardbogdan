import{h as B,aD as O,y as V,V as v,c as E,a as y,S as X,C as M,E as Y,P as $,W as q,aN as N,aE as S,M as U,F as Z}from"./C__p7v9B.js";import{U as I,g as J}from"./DU2gwtV2.js";import{O as K}from"./CNV8AT50.js";import{a as Q}from"./Ce06sWRU.js";import{T as ee}from"./C9BHMORZ.js";import{_ as te,c as ne,r as oe,k as se,q as re,o as ae}from"./D2BRVPHh.js";const ie={name:"sphere-vertices",setup(){const m=oe(null);let o,s,r,u;const x=()=>{k(),H(),P(),W(),_(),j(),G(),T()},_=()=>{const e=new K(s,r.domElement);e.enableDamping=!0,e.dampingFactor=.05,e.minDistance=2,e.maxDistance=10,e.update()},p=new B;window.addEventListener("mousemove",e=>{p.x=e.clientX/window.innerWidth*2-1,p.y=-(e.clientY/window.innerHeight)*2+1});const h=new O,z=new V(new v(0,0,1),0),D=new v,F=()=>{h.setFromCamera(p,s),h.ray.intersectPlane(z,D)},H=()=>{new I().load(J,t=>{t.mapping=Y,o.environment=t})};(()=>{new Q().load("https://threejs.org/examples/fonts/helvetiker_regular.typeface.json",t=>{const i=new ee("Hello, Three.js!",{font:t,size:.5,height:.2,depth:.1,curveSegments:12,bevelEnabled:!0,bevelThickness:.03,bevelSize:.02,bevelSegments:5}),a=new E({color:16737095});u=new y(i,a),u.position.set(-2,0,0),o.add(u)})})();const k=()=>{o=new X,o.background=new M(14675914)};window.addEventListener("click",e=>{p.x=e.clientX/window.innerWidth*2-1,p.y=-(e.clientY/window.innerHeight)*2+1,h.setFromCamera(p,s);const t=h.intersectObjects(o.children,!0);if(t.length>0){const i=t[0].object;i.material&&i.material.color.set(Math.random()*16777215)}});const P=()=>{s=new $(75,C(),.1,1e3),s.position.z=5},W=()=>{r=new q,r.setSize(w(),g()),m.value?.appendChild(r.domElement)},C=()=>w()/g(),w=()=>m.value?.clientWidth||window.innerWidth,g=()=>m.value?.clientHeight||window.innerHeight,j=()=>{const e=new N(16777215,1,100);e.position.set(10,10,10),o.add(e)},R=()=>{const e=o.children.find(t=>t.isMesh&&t.geometry.type==="SphereGeometry");if(e)return e;console.warn("No cube found in the scene")},T=()=>{const e=new S(3,16,16);e.computeVertexNormals();const t=new U({vertexColors:!0});t.visible=!1,e.name="big-sphere";const i=[],a=new M;for(let n=0;n<e.attributes.position.count;n++)a.set(Math.random()*16777215),i.push(a.r,a.g,a.b);e.setAttribute("color",new Z(i,3));const d=new y(e,t);d.position.set(0,0,0),o.add(d);const f=new S(.05,16,16),c=new E({color:new M(Math.random()*16777215),metalness:.8,roughness:.2}),l=e.attributes.position;for(let n=0;n<l.count;n++){const b=new y(f,c);b.name="small-sphere",b.position.set(l.getX(n),l.getY(n),l.getZ(n)),d.add(b)}},A=()=>{const e=R(),t=Math.sin(Date.now()*.002)*.08+1;if(e&&e.scale.set(t,t,t),e){const i=e.children.filter(f=>f.name==="small-sphere"),a=e.geometry.attributes.position,d=e.geometry.attributes.normal;i.forEach((f,c)=>{const l=new v(d.getX(c),d.getY(c),d.getZ(c)),n=Math.sin(Date.now()*.001+c)*.1;f.position.set(a.getX(c)+l.x*n,a.getY(c)+l.y*n,a.getZ(c)+l.z*n)})}e&&(e.rotation.y+=.001,e.rotation.x+=.001,e.rotation.z+=.001)},G=()=>{const e=()=>{requestAnimationFrame(e),F(),A(),r.render(o,s)};e()},L=()=>{m.value&&s&&r&&(s.aspect=C(),s.updateProjectionMatrix(),r.setSize(w(),g()))};return se(()=>{x(),window.addEventListener("resize",L)}),re(()=>{window.removeEventListener("resize",L),r&&r.dispose()}),{container:m}}},ce={ref:"container",class:"three-container"};function le(m,o,s,r,u,x){return ae(),ne("div",ce,null,512)}const ge=te(ie,[["render",le]]);export{ge as default};
