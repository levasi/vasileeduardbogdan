import{G as v}from"./edb8ZkxD.js";import{g as C,a as b,I as L,c as k,aF as H,aG as I,aH as P,aI as Q,V as G,al as V}from"./BCBTOiXd.js";const q=new G(0,0,0),w=[26545,5151182,10210283,5625826,16777215,10267058,5138038,16159280,16111647],h=[new H(.65,32,32),new I(.65,.3,16,64),new P(.65,.25,128,32),new Q(1,0)],K=new v,R=["duck.glb"];async function $(){const e=R.map(t=>new Promise((o,m)=>{K.load(`glb/${t}`,n=>{n.scene.traverse(s=>{s.isMesh&&h.push(s.geometry)}),o()},void 0,n=>m(n))}));try{await Promise.all(e)}catch{}}(async()=>await $())();function j(e){const o=h[Math.floor(Math.random()*h.length)].clone();return o.scale(e,e,e),o}function U(e,t){let i=Math.random()*12-6,s=Math.random()*12-12*.5+3,l=Math.random()*12-12*.5,c=w[Math.floor(Math.random()*w.length)];const y=j(.5),a=Math.random(),g=a<.33?{color:c,metalness:1,roughness:.1}:a<.66?{roughness:.1,transmission:1,transparent:!0,thickness:3}:{color:c,emissive:c,emissiveIntensity:.5,metalness:0,roughness:.5},u=new C(g),d=new b(y,u);let z=e.RigidBodyDesc.dynamic().setTranslation(i,s,l),r=t.createRigidBody(z),B=y.attributes.position.array,D=e.ColliderDesc.convexHull(B).setDensity(.5);t.createCollider(D,r);function T(){r.resetForces(!0);let{x:p,y:x,z:M}=r.translation(),F=new G(p,x,M).clone().sub(q).normalize(),f=r.rotation(),S=new V(f.x,f.y,f.z,f.w);d.rotation.setFromQuaternion(S),r.addForce(F.multiplyScalar(-.5),!0),d.position.set(p,x,M)}return{mesh:d,rigid:r,update:T}}function W(e,t){const m=new L(.25,8),n=new k({color:16777215,emissive:16777215}),i=new b(m,n);let s=e.RigidBodyDesc.kinematicPositionBased().setTranslation(0,0,0),l=t.createRigidBody(s),c=e.ColliderDesc.ball(.25*3);t.createCollider(c,l);function y(a){l.setTranslation({x:a.x,y:a.y,z:a.z});let{x:g,y:u,z:d}=l.translation();i.position.set(g,u,d)}return{mesh:i,update:y}}export{U as getBody,W as getMouseBall};
