import{h as G,R as B,a0 as O,V as M,g as V,a as v,S as X,C as x,E as Y,P as $,W as U,aJ as Z,aK as E,M as q,F as I,c as J}from"./DdUGlUBh.js";import{U as K,g as N}from"./CUDoNXUe.js";import{O as Q}from"./jVSss2RU.js";import{a as ee,T as te}from"./Dft9BvjC.js";import{_ as ne,c as oe,r as se,k as re,s as ae,o as ie}from"./CIZhVwNQ.js";const ce={name:"sphere-vertices",setup(){const f=se(null);let r,a,i,m;const y=()=>{R(),P(),k(),D(),_(),W(),A(),j()},_=()=>{const e=new Q(a,i.domElement);e.enableDamping=!0,e.dampingFactor=.05,e.minDistance=2,e.maxDistance=10,e.update()},p=new G;window.addEventListener("mousemove",e=>{p.x=e.clientX/window.innerWidth*2-1,p.y=-(e.clientY/window.innerHeight)*2+1});const u=new B,z=new O(new M(0,0,1),0),F=new M,H=()=>{u.setFromCamera(p,a),u.ray.intersectPlane(z,F)},P=()=>{new K().load(N,t=>{t.mapping=Y,r.environment=t})};(()=>{new ee().load("https://threejs.org/examples/fonts/helvetiker_regular.typeface.json",t=>{const c=new te("Hello, Three.js!",{font:t,size:.5,height:.2,depth:.1,curveSegments:32,bevelEnabled:!0,bevelThickness:.015,bevelSize:.008,bevelSegments:16}),n=new V({color:16737095,roughness:.2,metalness:.7,clearcoat:.6,clearcoatRoughness:.1});m=new v(c,n),m.position.set(-2,0,0),r.add(m)})})();const R=()=>{r=new X,r.background=new x(14675914)};window.addEventListener("click",e=>{p.x=e.clientX/window.innerWidth*2-1,p.y=-(e.clientY/window.innerHeight)*2+1,u.setFromCamera(p,a);const t=u.intersectObjects(r.children,!0);if(t.length>0){const n=t[0].object;n.material&&n.material.color.set(Math.random()*16777215)}const c=S();c&&c.children.filter(o=>o.name==="small-sphere").forEach(o=>{o.material&&o.material.color.set(Math.random()*16777215)}),m&&m.material&&m.material.color.set(Math.random()*16777215)});const k=()=>{a=new $(75,C(),.1,1e3),a.position.z=5},D=()=>{i=new U,i.setSize(w(),g()),f.value?.appendChild(i.domElement)},C=()=>w()/g(),w=()=>f.value?.clientWidth||window.innerWidth,g=()=>f.value?.clientHeight||window.innerHeight,W=()=>{const e=new Z(16777215,1,100);e.position.set(10,10,10),r.add(e)},S=()=>{const e=r.children.find(t=>t.isMesh&&t.geometry.type==="SphereGeometry");if(e)return e},j=()=>{const e=new E(3,16,16);e.computeVertexNormals();const t=new q({vertexColors:!0});t.visible=!1,e.name="big-sphere";const c=[],n=new x;for(let s=0;s<e.attributes.position.count;s++)n.set(Math.random()*16777215),c.push(n.r,n.g,n.b);e.setAttribute("color",new I(c,3));const o=new v(e,t);o.position.set(0,0,0),r.add(o);const h=new E(.05,16,16),l=new J({color:new x(Math.random()*16777215),metalness:.8,roughness:.2}),d=e.attributes.position;for(let s=0;s<d.count;s++){const b=new v(h,l);b.name="small-sphere",b.position.set(d.getX(s),d.getY(s),d.getZ(s)),o.add(b)}},T=()=>{const e=S(),t=Math.sin(Date.now()*.002)*.08+1;if(e&&e.scale.set(t,t,t),e){const c=e.children.filter(h=>h.name==="small-sphere"),n=e.geometry.attributes.position,o=e.geometry.attributes.normal;c.forEach((h,l)=>{const d=new M(o.getX(l),o.getY(l),o.getZ(l)),s=Math.sin(Date.now()*.001+l)*.1;h.position.set(n.getX(l)+d.x*s,n.getY(l)+d.y*s,n.getZ(l)+d.z*s)})}e&&(e.rotation.y+=.001,e.rotation.x+=.001,e.rotation.z+=.001)},A=()=>{const e=()=>{requestAnimationFrame(e),H(),T(),i.render(r,a)};e()},L=()=>{f.value&&a&&i&&(a.aspect=C(),a.updateProjectionMatrix(),i.setSize(w(),g()))};return re(()=>{y(),window.addEventListener("resize",L)}),ae(()=>{window.removeEventListener("resize",L),i&&i.dispose()}),{container:f}}},le={ref:"container",class:"three-container"};function de(f,r,a,i,m,y){return ie(),oe("div",le,null,512)}const ge=ne(ce,[["render",de]]);export{ge as default};
