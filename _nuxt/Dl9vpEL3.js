import{h as V,aD as G,y as X,V as g,S as Y,C as b,E as $,P as k,W as O,aN as U,aE as _,M as Z,F as q,a as L,c as I}from"./C__p7v9B.js";import{U as N,g as j}from"./DZLLS5P1.js";import{O as J}from"./CNV8AT50.js";import{_ as T,c as K,l as Q,m as ee,n as te,o as ne}from"./C6EthGTE.js";const oe={name:"sphere-vertices",setup(){const p=Q(null);let a,o,n;const M=()=>{P(),z(),F(),H(),y(),R(),B(),W()},y=()=>{const e=new J(o,n.domElement);e.enableDamping=!0,e.dampingFactor=.05,e.minDistance=2,e.maxDistance=10,e.update()},u=new V;window.addEventListener("mousemove",e=>{u.x=e.clientX/window.innerWidth*2-1,u.y=-(e.clientY/window.innerHeight)*2+1});const v=new G,S=new X(new g(0,0,1),0),D=new g,x=()=>{v.setFromCamera(u,o),v.ray.intersectPlane(S,D)},z=()=>{new N().load(j,s=>{s.mapping=$,a.environment=s})},P=()=>{a=new Y,a.background=new b(14675914)},F=()=>{o=new k(75,C(),.1,1e3),o.position.z=5},H=()=>{n=new O,n.setSize(f(),h()),p.value?.appendChild(n.domElement)},C=()=>f()/h(),f=()=>p.value?.clientWidth||window.innerWidth,h=()=>p.value?.clientHeight||window.innerHeight,R=()=>{const e=new U(16777215,1,100);e.position.set(10,10,10),a.add(e)},W=()=>{const e=new _(3,16,16);e.computeVertexNormals();const s=new Z({vertexColors:!0});s.visible=!1,e.name="big-sphere";const l=[],i=new b;for(let t=0;t<e.attributes.position.count;t++)i.set(Math.random()*16777215),l.push(i.r,i.g,i.b);e.setAttribute("color",new q(l,3));const d=new L(e,s);d.position.set(0,0,0),a.add(d);const m=new _(.05,16,16),r=new I({color:new b(Math.random()*16777215),metalness:.8,roughness:.2}),c=e.attributes.position;for(let t=0;t<c.count;t++){const w=new L(m,r);w.name="small-sphere",w.position.set(c.getX(t),c.getY(t),c.getZ(t)),d.add(w)}},A=()=>{const e=a.children.find(l=>l.isMesh&&l.geometry.type==="SphereGeometry"),s=Math.sin(Date.now()*.002)*.08+1;if(e&&e.scale.set(s,s,s),e){const l=e.children.filter(m=>m.name==="small-sphere"),i=e.geometry.attributes.position,d=e.geometry.attributes.normal;l.forEach((m,r)=>{const c=new g(d.getX(r),d.getY(r),d.getZ(r)),t=Math.sin(Date.now()*.001+r)*.1;m.position.set(i.getX(r)+c.x*t,i.getY(r)+c.y*t,i.getZ(r)+c.z*t)})}e&&(e.rotation.y+=.001,e.rotation.x+=.001,e.rotation.z+=.001)},B=()=>{const e=()=>{requestAnimationFrame(e),x(),A(),n.render(a,o)};e()},E=()=>{p.value&&o&&n&&(o.aspect=C(),o.updateProjectionMatrix(),n.setSize(f(),h()))};return ee(()=>{M(),window.addEventListener("resize",E)}),te(()=>{window.removeEventListener("resize",E),n&&n.dispose()}),{container:p}}},se={ref:"container",class:"three-container"};function re(p,a,o,n,M,y){return ne(),K("div",se,null,512)}const de=T(oe,[["render",re]]);export{de as default};
